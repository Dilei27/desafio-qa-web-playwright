{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Automa\u00e7\u00e3o Web \u2013 Blog Agibank","text":""},{"location":"#visao-geral-do-projeto","title":"Vis\u00e3o geral do projeto","text":"<ul> <li>Automa\u00e7\u00e3o web com Playwright para validar disponibilidade e busca do Blog Agibank.</li> <li>Estrutura em JavaScript com Page Object, testes isolados e configura\u00e7\u00e3o centralizada via <code>playwright.config.js</code>.</li> <li>Execu\u00e7\u00e3o suportada localmente (Node.js), em cont\u00eainer Docker e em pipeline GitHub Actions.</li> </ul>"},{"location":"#objetivo-da-automacao","title":"Objetivo da automa\u00e7\u00e3o","text":"<ul> <li>Garantir que a Home esteja online e apresente o t\u00edtulo esperado do site.</li> <li>Confirmar que a busca retorna artigos quando um termo v\u00e1lido \u00e9 informado.</li> <li>Confirmar que a busca exibe mensagem de aus\u00eancia de resultados para termos inv\u00e1lidos.</li> </ul>"},{"location":"#cenarios-testados","title":"Cen\u00e1rios testados","text":"<ul> <li>Home online (valida\u00e7\u00e3o do t\u00edtulo) \u2014 <code>tests/home.spec.js</code>.</li> <li>Busca com termo v\u00e1lido retornando artigos \u2014 <code>tests/search.spec.js</code>.</li> <li>Busca com termo inv\u00e1lido exibindo mensagem de nenhum resultado \u2014 <code>tests/search.spec.js</code>.</li> </ul>"},{"location":"#arquitetura-real-do-projeto","title":"Arquitetura real do projeto","text":"<ul> <li><code>pages/search.page.js</code>: Page Object com URL base, seletores da busca, m\u00e9todos de navega\u00e7\u00e3o, intera\u00e7\u00e3o (abrir caixa de busca, preencher, submeter) e valida\u00e7\u00f5es (<code>hasResults</code>, <code>noResults</code>).</li> <li><code>tests/home.spec.js</code>: Valida carregamento da Home e t\u00edtulo da p\u00e1gina usando o Page Object.</li> <li><code>tests/search.spec.js</code>: Su\u00edte de busca cobrindo caminhos de sucesso e falha com reuso do Page Object.</li> <li><code>playwright.config.js</code>: Configura\u00e7\u00e3o do Playwright Test (testes em <code>./tests</code>, timeout, execu\u00e7\u00e3o headless com viewport desktop, trace on-first-retry e reporter HTML).</li> <li><code>package.json</code>: Scripts <code>test</code>, <code>test:home</code>, <code>test:search</code> para execu\u00e7\u00e3o segmentada.</li> <li><code>Dockerfile</code>: Imagem baseada em <code>mcr.microsoft.com/playwright:v1.57.0-jammy</code>, instala depend\u00eancias via <code>npm ci</code>, copia c\u00f3digo e instala browsers (<code>npx playwright install --with-deps</code>).</li> <li><code>docker-compose.yml</code>: Servi\u00e7o <code>web</code> que monta o reposit\u00f3rio em <code>/app</code>, exp\u00f5e porta 9323 e mant\u00e9m TTY interativo para rodar comandos.</li> <li>GitHub Actions: Workflow com checkout, setup Node 18, instala\u00e7\u00e3o de depend\u00eancias e browsers, execu\u00e7\u00e3o dos testes e upload do relat\u00f3rio como artefato.</li> </ul>"},{"location":"#tecnologias-utilizadas","title":"Tecnologias utilizadas","text":"<ul> <li>Node.js 18.x</li> <li>Playwright Test 1.57 (JavaScript / CommonJS)</li> <li>Docker e Docker Compose</li> <li>GitHub Actions para CI</li> <li>Relat\u00f3rio HTML do Playwright (<code>playwright-report</code>)</li> </ul>"},{"location":"#como-interpretar-o-relatorio-html","title":"Como interpretar o relat\u00f3rio HTML","text":"<ul> <li>Gera\u00e7\u00e3o: o reporter HTML \u00e9 configurado em <code>playwright.config.js</code>; ao rodar <code>npx playwright test</code>, o relat\u00f3rio \u00e9 salvo em <code>playwright-report/</code>.</li> <li>Abertura local: <code>npx playwright show-report</code> inicia um servidor tempor\u00e1rio para visualizar <code>playwright-report/index.html</code>.</li> <li>Conte\u00fado: cada teste mostra status, dura\u00e7\u00e3o, anexos de trace (quando gerados on-first-retry) e logs. Falhas exibem stack trace e screenshot/trace quando dispon\u00edveis.</li> <li>Armazenamento em CI: no GitHub Actions o diret\u00f3rio <code>playwright-report</code> \u00e9 empacotado como artefato para download ap\u00f3s a execu\u00e7\u00e3o.</li> </ul>"},{"location":"ci-cd/","title":"CI/CD \u2013 GitHub Actions","text":"<p>Workflow (conforme README) executa testes Playwright e publica o relat\u00f3rio HTML como artefato.</p>"},{"location":"ci-cd/#etapas-do-pipeline","title":"Etapas do pipeline","text":"<pre><code>name: Playwright Tests\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Setup Node\n        uses: actions/setup-node@v3\n        with:\n          node-version: 18\n\n      - name: Install dependencies\n        run: npm install\n\n      - name: Install browsers\n        run: npx playwright install --with-deps\n\n      - name: Run tests\n        run: npx playwright test\n\n      - name: Upload report\n        uses: actions/upload-artifact@v3\n        with:\n          name: playwright-report\n          path: playwright-report\n</code></pre> <ul> <li>Instalar Node: <code>actions/setup-node@v3</code> com Node 18.</li> <li>Instalar depend\u00eancias: <code>npm install</code>.</li> <li>Instalar browsers: <code>npx playwright install --with-deps</code>.</li> <li>Rodar testes: <code>npx playwright test</code>.</li> <li>Upload do relat\u00f3rio: publica <code>playwright-report</code> como artefato.</li> </ul>"},{"location":"ci-cd/#artefatos","title":"Artefatos","text":"<ul> <li>Ap\u00f3s a execu\u00e7\u00e3o, o artefato <code>playwright-report</code> fica dispon\u00edvel na aba \"Actions\" da execu\u00e7\u00e3o.</li> <li>Baixe e abra o <code>index.html</code> ou use <code>npx playwright show-report</code> apontando para o diret\u00f3rio baixado.</li> </ul>"},{"location":"docker/","title":"Docker","text":""},{"location":"docker/#dockerfile","title":"Dockerfile","text":"<p>Baseado em <code>mcr.microsoft.com/playwright:v1.57.0-jammy</code>, que j\u00e1 inclui Node e browsers suportados pelo Playwright.</p> <pre><code>FROM mcr.microsoft.com/playwright:v1.57.0-jammy\n\nWORKDIR /app\nCOPY package.json package-lock.json ./\nRUN npm ci\nCOPY . .\nRUN npx playwright install --with-deps\nCMD [\"tail\", \"-f\", \"/dev/null\"]\n</code></pre> <ul> <li>Instala depend\u00eancias via <code>npm ci</code>.</li> <li>Copia o c\u00f3digo e instala browsers do Playwright.</li> <li>Mant\u00e9m o cont\u00eainer ativo para execu\u00e7\u00f5es manuais.</li> </ul>"},{"location":"docker/#docker-composeyml","title":"docker-compose.yml","text":"<pre><code>version: '3.8'\n\nservices:\n  web:\n    build: .\n    container_name: desafioqa_web\n    ports:\n      - \"9323:9323\"\n    working_dir: /app\n    tty: true\n    stdin_open: true\n    volumes:\n      - .:/app\n</code></pre> <ul> <li>Servi\u00e7o \u00fanico <code>web</code>, monta o c\u00f3digo em <code>/app</code> e exp\u00f5e porta 9323 (\u00fatil para servir relat\u00f3rios caso necess\u00e1rio).</li> <li><code>tty</code> e <code>stdin_open</code> permitem sess\u00e3o interativa.</li> </ul>"},{"location":"docker/#executar-testes-no-conteiner","title":"Executar testes no cont\u00eainer","text":"<ul> <li>Build e subir:   <code>bash   docker compose build --no-cache   docker compose up -d</code></li> <li>Acessar o cont\u00eainer:   <code>bash   docker exec -it desafioqa_web bash</code></li> <li>Executar testes:   <code>bash   npx playwright test</code> O diret\u00f3rio <code>playwright-report/</code> \u00e9 gravado no volume montado, dispon\u00edvel no host.</li> </ul>"},{"location":"project-structure/","title":"Estrutura do Projeto","text":"<p>Estrutura real do reposit\u00f3rio <code>desafio-qa-web-playwright</code>:</p> <pre><code>pages/\n  search.page.js\ntests/\n  home.spec.js\n  search.spec.js\nDockerfile\ndocker-compose.yml\npackage.json\npackage-lock.json\nplaywright.config.js\nREADME.md\n</code></pre>"},{"location":"project-structure/#pages","title":"pages/","text":"<ul> <li><code>search.page.js</code>: Page Object central. Define URL base do Blog Agibank, seletores da busca, helpers de navega\u00e7\u00e3o (<code>navigate</code>), intera\u00e7\u00e3o (<code>openSearchBox</code>, <code>search</code>, <code>fillForce</code>, <code>waitAndPressEnter</code>) e valida\u00e7\u00f5es (<code>hasResults</code>, <code>noResults</code>). Exposto via <code>module.exports</code>.</li> </ul>"},{"location":"project-structure/#tests","title":"tests/","text":"<ul> <li><code>home.spec.js</code>: Teste \u00fanico que garante que a Home do Blog Agibank carrega e o t\u00edtulo cont\u00e9m \u201cAgi Blog\u201d. Usa <code>SearchPage</code> para navegar e <code>expect(page).toHaveTitle(...)</code>.</li> <li><code>search.spec.js</code>: Su\u00edte \"Busca no Blog Agibank\" com dois testes:</li> <li>Busca v\u00e1lida retorna artigos usando termo \"cart\u00e3o\" e valida <code>hasResults()</code>.</li> <li>Busca inv\u00e1lida com termo rand\u00f4mico valida aus\u00eancia de resultados (<code>hasResults()</code> falso) e mensagem de nenhum resultado (<code>noResults()</code>).</li> </ul>"},{"location":"project-structure/#playwrightconfigjs","title":"playwright.config.js","text":"<ul> <li>Define diret\u00f3rio <code>./tests</code>, timeout global de 30s, execu\u00e7\u00e3o headless com viewport 1920x1080, <code>isMobile: false</code>, <code>hasTouch: false</code>, <code>trace: 'on-first-retry'</code>.</li> <li>Reporter: lista no console e HTML salvo em <code>playwright-report</code>.</li> </ul>"},{"location":"project-structure/#docker-e-compose","title":"Docker e Compose","text":"<ul> <li><code>Dockerfile</code>: Base <code>mcr.microsoft.com/playwright:v1.57.0-jammy</code>, instala depend\u00eancias com <code>npm ci</code>, copia c\u00f3digo e instala browsers com <code>npx playwright install --with-deps</code>, comando padr\u00e3o mant\u00e9m cont\u00eainer ativo (<code>tail -f /dev/null</code>).</li> <li><code>docker-compose.yml</code>: Servi\u00e7o <code>web</code> com build local, container <code>desafioqa_web</code>, volume do c\u00f3digo em <code>/app</code>, TTY interativo e porta 9323 exposta.</li> </ul>"},{"location":"project-structure/#configuracao-de-pacote","title":"Configura\u00e7\u00e3o de pacote","text":"<ul> <li><code>package.json</code>: Scripts <code>test</code> (todos), <code>test:home</code>, <code>test:search</code> usando Playwright Test 1.57 (devDependency).</li> </ul>"},{"location":"results/","title":"Resultados e Valida\u00e7\u00e3o","text":""},{"location":"results/#resultados-esperados","title":"Resultados esperados","text":"<ul> <li>Home: p\u00e1gina carrega, header dispon\u00edvel e t\u00edtulo cont\u00e9m \"Agi Blog\".</li> <li>Busca v\u00e1lida: termo \"cart\u00e3o\" retorna pelo menos um <code>&lt;article&gt;</code>.</li> <li>Busca inv\u00e1lida: nenhum <code>&lt;article&gt;</code> encontrado e mensagem \"Lamentamos, mas nada foi encontrado\" vis\u00edvel.</li> </ul>"},{"location":"results/#abrir-o-report-html","title":"Abrir o report HTML","text":"<ul> <li>Ap\u00f3s rodar <code>npx playwright test</code>, o relat\u00f3rio \u00e9 gerado em <code>playwright-report/</code>.</li> <li>Visualizar localmente:   <code>bash   npx playwright show-report</code></li> <li>Em CI, baixe o artefato <code>playwright-report</code> e abra <code>index.html</code> ou use <code>npx playwright show-report</code> apontando para o diret\u00f3rio.</li> </ul>"},{"location":"results/#como-validar-os-cenarios","title":"Como validar os cen\u00e1rios","text":"<ol> <li>Execute os testes localmente ou no cont\u00eainer:    <code>bash    npx playwright test</code></li> <li>Abra o relat\u00f3rio e confirme:</li> <li>Status Passed para os tr\u00eas testes.</li> <li>Para falhas, verifique trace anexado (gerado no primeiro retry).</li> <li>Conferir manualmente (opcional):</li> <li>Home: <code>expect(page).toHaveTitle(/Agi Blog/i)</code>.</li> <li>Busca v\u00e1lida: <code>await search.hasResults()</code> retorna <code>true</code>.</li> <li>Busca inv\u00e1lida: <code>await search.hasResults()</code> retorna <code>false</code> e <code>await search.noResults()</code> retorna <code>true</code>.</li> </ol>"},{"location":"setup/","title":"Setup e Execu\u00e7\u00e3o","text":""},{"location":"setup/#requisitos","title":"Requisitos","text":"<ul> <li>Node.js 18.x e npm.</li> <li>Browsers do Playwright instalados (<code>npx playwright install --with-deps</code>).</li> <li>Docker e Docker Compose (opcional, para execu\u00e7\u00e3o em cont\u00eainer).</li> <li>C\u00f3digo fonte do reposit\u00f3rio <code>desafio-qa-web-playwright</code>.</li> </ul>"},{"location":"setup/#instalacao-local","title":"Instala\u00e7\u00e3o local","text":"<pre><code>npm install\nnpx playwright install --with-deps\n</code></pre>"},{"location":"setup/#execucao-local","title":"Execu\u00e7\u00e3o local","text":"<ul> <li>Todos os testes:   <code>bash   npx playwright test</code></li> <li>Apenas Home:   <code>bash   npm run test:home</code></li> <li>Apenas Busca:   <code>bash   npm run test:search</code></li> </ul> <p>Configura\u00e7\u00e3o aplicada: headless, viewport desktop 1920x1080, <code>isMobile</code> desativado e trace no primeiro retry (<code>trace: 'on-first-retry'</code>), conforme <code>playwright.config.js</code>.</p>"},{"location":"setup/#abrir-relatorio-html","title":"Abrir relat\u00f3rio HTML","text":"<ul> <li>Ap\u00f3s os testes, o relat\u00f3rio fica em <code>playwright-report/</code>.</li> <li>Para visualizar:   <code>bash   npx playwright show-report</code></li> </ul>"},{"location":"setup/#execucao-via-docker","title":"Execu\u00e7\u00e3o via Docker","text":"<p>Imagem baseada em <code>mcr.microsoft.com/playwright:v1.57.0-jammy</code> j\u00e1 inclui browsers.</p> <pre><code>docker build -t desafio-qa-web .\ndocker run -it --rm -v \"$(pwd)\":/app desafio-qa-web bash\nnpx playwright test\n</code></pre>"},{"location":"setup/#execucao-via-docker-compose","title":"Execu\u00e7\u00e3o via Docker Compose","text":"<pre><code>docker compose build --no-cache\ndocker compose up -d\ndocker exec -it desafioqa_web bash\nnpx playwright test\n</code></pre> <p>O volume <code>.:/app</code> mant\u00e9m o c\u00f3digo sincronizado; o relat\u00f3rio (<code>playwright-report/</code>) fica acess\u00edvel fora do cont\u00eainer.</p>"},{"location":"tests/","title":"Testes e Cobertura","text":""},{"location":"tests/#page-object-de-busca","title":"Page Object de Busca","text":"<p>Trecho real de <code>pages/search.page.js</code> que concentra navega\u00e7\u00e3o, intera\u00e7\u00e3o e valida\u00e7\u00f5es:</p> <pre><code>class SearchPage {\n  constructor(page) {\n    this.page = page;\n\n    this.url = 'https://blog.agibank.com.br/';\n    this.searchInput = page.locator('#search-field');\n    this.noResultsMessage = page.getByText(/Lamentamos, mas nada foi encontrado/i);\n    this.articles = page.locator('article');\n  }\n\n  async navigate(url = this.url) {\n    await this.page.goto(url, { waitUntil: 'domcontentloaded', timeout: 60000 });\n  }\n\n  async openSearchBox() {\n    await this.page.evaluate(() =&gt; {\n      document.querySelector('.ast-search-menu-icon')\n        ?.classList.add('ast-dropdown-active');\n    });\n  }\n\n  async search(term) {\n    await this.openSearchBox();\n    await this.fillForce(this.searchInput, term);\n    await this.waitAndPressEnter();\n  }\n\n  async hasResults() {\n    return (await this.articles.count()) &gt; 0;\n  }\n\n  async noResults() {\n    return await this.noResultsMessage.isVisible();\n  }\n}\n</code></pre>"},{"location":"tests/#teste-home-online","title":"Teste: Home online","text":"<p>Arquivo <code>tests/home.spec.js</code>:</p> <pre><code>test('Home do Blog Agibank est\u00e1 online', async ({ page }) =&gt; {\n  const home = new SearchPage(page);\n\n  await home.navigate();\n  await page.waitForSelector('header', { timeout: 15000 });\n  await expect(page).toHaveTitle(/Agi Blog/i);\n});\n</code></pre> <p>Valida carregamento da p\u00e1gina inicial e t\u00edtulo esperado.</p>"},{"location":"tests/#teste-busca-valida","title":"Teste: Busca v\u00e1lida","text":"<p>Trecho de <code>tests/search.spec.js</code>:</p> <pre><code>test('\ud83d\udfe2 Busca v\u00e1lida retorna artigos', async ({ page }) =&gt; {\n  const search = new SearchPage(page);\n\n  await search.navigate();\n  await search.search('cart\u00e3o');\n\n  expect(await search.hasResults()).toBeTruthy();\n});\n</code></pre> <p>Confirma que um termo conhecido (\"cart\u00e3o\") retorna artigos.</p>"},{"location":"tests/#teste-busca-invalida","title":"Teste: Busca inv\u00e1lida","text":"<p>Trecho de <code>tests/search.spec.js</code>:</p> <pre><code>test('\ud83d\udd34 Busca inv\u00e1lida retorna mensagem de nenhum resultado', async ({ page }) =&gt; {\n  const search = new SearchPage(page);\n\n  await search.navigate();\n  await search.search('gjhgjhgjhgkjhgkjhgkjh');\n\n  expect(await search.hasResults()).toBeFalsy();\n  expect(await search.noResults()).toBeTruthy();\n});\n</code></pre> <p>Valida aus\u00eancia de resultados e exibi\u00e7\u00e3o de mensagem espec\u00edfica.</p>"},{"location":"tests/#configuracao-que-controla-timeout-e-browsers","title":"Configura\u00e7\u00e3o que controla timeout e browsers","text":"<p>Trecho de <code>playwright.config.js</code>:</p> <pre><code>module.exports = defineConfig({\n  testDir: './tests',\n  timeout: 30000,\n  use: {\n    headless: true,\n    viewport: { width: 1920, height: 1080 },\n    deviceScaleFactor: 1,\n    isMobile: false,\n    hasTouch: false,\n    trace: 'on-first-retry'\n  },\n  reporter: [['list'], ['html', { outputFolder: 'playwright-report' }]]\n});\n</code></pre> <ul> <li><code>timeout: 30000</code>: limite global por teste.</li> <li><code>headless: true</code> e viewport desktop garantem execu\u00e7\u00e3o sem UI e DOM desktop.</li> <li><code>trace: 'on-first-retry'</code>: captura trace somente se houver retry.</li> <li>Reporter HTML grava sa\u00edda em <code>playwright-report</code>.</li> </ul>"},{"location":"tests/#interpretacao-de-erros-do-playwright","title":"Interpreta\u00e7\u00e3o de erros do Playwright","text":"<ul> <li>Falha em asser\u00e7\u00e3o (<code>expect</code>): exibir\u00e1 o valor esperado vs. encontrado; revisar o seletor ou estado da p\u00e1gina.</li> <li>Timeout (<code>Timeout 30000ms exceeded</code>): indica que a a\u00e7\u00e3o/espera n\u00e3o completou no tempo configurado; checar estabilidade do site ou ajustar espera expl\u00edcita.</li> <li>Seletores n\u00e3o encontrados: verifique se <code>openSearchBox</code> foi chamado antes de preencher o campo de busca e se o DOM \u00e9 o desktop (config j\u00e1 for\u00e7a <code>isMobile: false</code>).</li> <li>Para depura\u00e7\u00e3o, reexecutar com <code>--headed</code> e opcionalmente <code>--debug</code>:   <code>bash   npx playwright test tests/search.spec.js --headed</code></li> <li>Trace: em um retry com falha, o trace fica em <code>playwright-report/</code> e pode ser aberto via <code>npx playwright show-report</code>.</li> </ul>"}]}